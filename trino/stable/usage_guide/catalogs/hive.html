<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Apache Hive :: Stackable Documentation</title>
    <link rel="canonical" href="https://docs.stackable.tech/trino/stable/usage_guide/catalogs/hive.html">
    <meta name="generator" content="Antora 3.1.0">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
    <link rel="icon" href="../../../../_/img/favicon.png" type="image/png">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://stackable.tech"><img src="../../../../_/img/stackable-logo.png"></a>
      <a class="navbar-item documentation-link" href="https://docs.stackable.tech">Documentation</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search...">
        </div>
      </div>
      <button class="navbar-burger" data-target="navbar-sub">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <a href="https://www.stackable.tech/contact/" class="button pull-right">Contact Us</a>
    </div>
      <div id="topbar-nav" class="navbar-menu">
      </div>
      </div>
    </nav>
    <nav id="navbar-sub" class="navbar-sub">
      <div class="container">
        <a class="navbar-sub-item" href="../../../../home/stable/index.html">Home</a>
<a class="navbar-sub-item" href="../../../../home/stable/getting_started.html">Getting Started</a>
<a class="navbar-sub-item" href="../../../../home/stable/concepts/index.html">Concepts</a>
<a class="navbar-sub-item" href="../../../../home/stable/tutorials/end-to-end_data_pipeline_example.html">Tutorials</a>
<a class="navbar-sub-item" href="../../../../stackablectl/stable/index.html">stackablectl</a>
<div class="navbar-sub-item drop-down">
    Operators
    <div class="drop-down-content">
        <a class="drop-down-item" href="../../../../home/stable/operators/index.html">Overview</a>
        <a class="drop-down-item" href="../../../../airflow/stable/index.html">Apache Airflow</a>
        <a class="drop-down-item" href="../../../../druid/stable/index.html">Apache Druid</a>
        <a class="drop-down-item" href="../../../../hbase/stable/index.html">Apache HBase</a>
        <a class="drop-down-item" href="../../../../hdfs/stable/index.html">Apache Hadoop HDFS</a>
        <a class="drop-down-item" href="../../../../hive/stable/index.html">Apache Hive</a>
        <a class="drop-down-item" href="../../../../kafka/stable/index.html">Apache Kafka</a>
        <a class="drop-down-item" href="../../../../nifi/stable/index.html">Apache NiFi</a>
        <a class="drop-down-item" href="../../../../spark-k8s/stable/index.html">Apache Spark on K8S</a>
        <a class="drop-down-item" href="../../../../superset/stable/index.html">Apache Superset</a>
        <a class="drop-down-item" href="../../index.html">Trino</a>
        <a class="drop-down-item" href="../../../../zookeeper/stable/index.html">Apache ZooKeeper</a>
        <a class="drop-down-item" href="../../../../opa/stable/index.html">OpenPolicyAgent</a>
        <a class="drop-down-item" href="../../../../commons-operator/stable/index.html">Commons</a>
        <a class="drop-down-item" href="../../../../secret-operator/stable/index.html">Secret</a>
        <a class="drop-down-item" href="../../../../listener-operator/stable/index.html">Listener</a>
    </div>
</div>
<a class="navbar-sub-item" href="../../../../home/stable/contributor/index.html">Contribute</a>

        <a class="arrow" href="javascript:document.querySelector('.navbar-sub').classList.toggle('open')">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg>
        </a>
      </div>
    </nav>
  </header>
<div class="body">
    <div class="container">
<div class="nav-container" data-component="trino" data-version="0.8">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <div class="title-wrapper">
      <h3 class="title"><a href="../../index.html">Stackable Operator for Trino</a></h3>
      <div class="page-versions">
        <button class="version-menu-toggle" title="Show other versions of page">0.8</button>
        <div class="version-menu">
          <a class="version" href="../../../nightly/usage_guide/catalogs/hive.html">nightly</a>
          <a class="version is-current" href="hive.html">0.8</a>
          <a class="version is-missing" href="../../../0.7/index.html">0.7</a>
          <a class="version is-missing" href="../../../0.6/index.html">0.6</a>
          <a class="version is-missing" href="../../../0.5/index.html">0.5</a>
          <a class="version is-missing" href="../../../0.4/index.html">0.4</a>
          <a class="version is-missing" href="../../../0.3/index.html">0.3</a>
        </div>
      </div>
    </div>
    <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../getting_started/index.html">Getting started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../getting_started/installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../getting_started/first_steps.html">First steps</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../concepts.html">Concepts</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">Usage guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cluster.html">Creating a Trino cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../query.html">Testing Trino with Hive and S3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Catalogs</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="hive.html">Apache Hive</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="iceberg.html">Apache Iceberg</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tpcds.html">TPC-DS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tpch.html">TPC-H</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Stackable Operator for Trino</span>
    <span class="version">0.8</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../commons-operator/stable/index.html">Stackable Commons Operator</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../commons-operator/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../commons-operator/stable/index.html">0.4</a>
        </li>
        <li class="version">
          <a href="../../../../commons-operator/0.3/index.html">0.3</a>
        </li>
        <li class="version">
          <a href="../../../../commons-operator/0.2/index.html">0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../home/stable/index.html">Stackable Documentation</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../home/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../home/stable/index.html">22.11</a>
        </li>
        <li class="version">
          <a href="../../../../home/22.09/index.html">22.09</a>
        </li>
        <li class="version">
          <a href="../../../../home/22.06/index.html">22.06</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../listener-operator/stable/index.html">Stackable Listener Operator</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../listener-operator/stable/index.html">nightly</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../airflow/stable/index.html">Stackable Operator for Apache Airflow</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../airflow/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../airflow/stable/index.html">0.6</a>
        </li>
        <li class="version">
          <a href="../../../../airflow/0.5/index.html">0.5</a>
        </li>
        <li class="version">
          <a href="../../../../airflow/0.4/index.html">0.4</a>
        </li>
        <li class="version">
          <a href="../../../../airflow/0.3/index.html">0.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../druid/stable/index.html">Stackable Operator for Apache Druid</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../druid/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../druid/stable/index.html">0.8</a>
        </li>
        <li class="version">
          <a href="../../../../druid/0.7/index.html">0.7</a>
        </li>
        <li class="version">
          <a href="../../../../druid/0.6/index.html">0.6</a>
        </li>
        <li class="version">
          <a href="../../../../druid/0.2/index.html">0.2</a>
        </li>
        <li class="version">
          <a href="../../../../druid/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../hbase/stable/index.html">Stackable Operator for Apache HBase</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../hbase/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../hbase/stable/index.html">0.5</a>
        </li>
        <li class="version">
          <a href="../../../../hbase/0.4/index.html">0.4</a>
        </li>
        <li class="version">
          <a href="../../../../hbase/0.3/index.html">0.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../hdfs/stable/index.html">Stackable Operator for Apache HDFS</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../hdfs/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../hdfs/stable/index.html">0.6</a>
        </li>
        <li class="version">
          <a href="../../../../hdfs/0.5/index.html">0.5</a>
        </li>
        <li class="version">
          <a href="../../../../hdfs/0.4/index.html">0.4</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../hive/stable/index.html">Stackable Operator for Apache Hive</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../hive/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../hive/stable/index.html">0.8</a>
        </li>
        <li class="version">
          <a href="../../../../hive/0.7/index.html">0.7</a>
        </li>
        <li class="version">
          <a href="../../../../hive/0.6/index.html">0.6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../kafka/stable/index.html">Stackable Operator for Apache Kafka</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../kafka/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../kafka/stable/index.html">0.8</a>
        </li>
        <li class="version">
          <a href="../../../../kafka/0.7/index.html">0.7</a>
        </li>
        <li class="version">
          <a href="../../../../kafka/0.6/index.html">0.6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../nifi/stable/index.html">Stackable Operator for Apache NiFi</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../nifi/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../nifi/stable/index.html">0.8</a>
        </li>
        <li class="version">
          <a href="../../../../nifi/0.7/index.html">0.7</a>
        </li>
        <li class="version">
          <a href="../../../../nifi/0.6/index.html">0.6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../spark-k8s/stable/index.html">Stackable Operator for Apache Spark on Kubernetes</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../spark-k8s/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../spark-k8s/stable/index.html">0.6</a>
        </li>
        <li class="version">
          <a href="../../../../spark-k8s/0.5/index.html">0.5</a>
        </li>
        <li class="version">
          <a href="../../../../spark-k8s/0.4/index.html">0.4</a>
        </li>
        <li class="version">
          <a href="../../../../spark-k8s/0.3/index.html">0.3</a>
        </li>
        <li class="version">
          <a href="../../../../spark-k8s/0.2/index.html">0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../superset/stable/index.html">Stackable Operator for Apache Superset</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../superset/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../superset/stable/index.html">0.7</a>
        </li>
        <li class="version">
          <a href="../../../../superset/0.6/index.html">0.6</a>
        </li>
        <li class="version">
          <a href="../../../../superset/0.5/index.html">0.5</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../zookeeper/stable/index.html">Stackable Operator for Apache ZooKeeper</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../zookeeper/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../zookeeper/stable/index.html">0.12</a>
        </li>
        <li class="version">
          <a href="../../../../zookeeper/0.11/index.html">0.11</a>
        </li>
        <li class="version">
          <a href="../../../../zookeeper/0.10/index.html">0.10</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../opa/stable/index.html">Stackable Operator for OPA</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../opa/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../opa/stable/index.html">0.11</a>
        </li>
        <li class="version">
          <a href="../../../../opa/0.10/index.html">0.10</a>
        </li>
        <li class="version">
          <a href="../../../../opa/0.9/index.html">0.9</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">Stackable Operator for Trino</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../nightly/index.html">nightly</a>
        </li>
        <li class="version is-current is-latest">
          <a href="../../index.html">0.8</a>
        </li>
        <li class="version">
          <a href="../../../0.7/index.html">0.7</a>
        </li>
        <li class="version">
          <a href="../../../0.6/index.html">0.6</a>
        </li>
        <li class="version">
          <a href="../../../0.5/index.html">0.5</a>
        </li>
        <li class="version">
          <a href="../../../0.4/index.html">0.4</a>
        </li>
        <li class="version">
          <a href="../../../0.3/index.html">0.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../secret-operator/stable/index.html">Stackable Secret Operator</a>
      <ul class="versions">
        <li class="version">
          <a href="../../../../secret-operator/nightly/index.html">nightly</a>
        </li>
        <li class="version is-latest">
          <a href="../../../../secret-operator/stable/index.html">0.5</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../stackablectl/stable/index.html">stackablectl</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../stackablectl/stable/index.html">nightly</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../home/stable/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Stackable Operator for Trino</a></li>
    <li><a href="../index.html">Usage guide</a></li>
    <li><a href="index.html">Catalogs</a></li>
    <li><a href="hive.html">Apache Hive</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/stackabletech/trino-operator/blob/docs/0.8/docs/modules/usage_guide/pages/catalogs/hive.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Apache Hive</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Apache Hive connector allows Trino to connect to a Hive metastore and query data stored in Apache Hadoop or S3 compatible objects storage.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_hive_catalog_configuration"><a class="anchor" href="#_example_hive_catalog_configuration"></a>Example Hive catalog configuration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: trino.stackable.tech/v1alpha1
kind: TrinoCatalog
metadata:
  # The name of the catalog as it will appear in Trino
  name: hive-catalog
  # TrinoCluster can use these labels to select which catalogs to include
  labels:
    trino: simple-trino
spec:
  connector:
    # Specify hive here when defining a hive catalog
    hive:
      # Configuration can be passed either as a configMap...
      metastore:
        configMap: simple-hive
      #... or defined inline
      s3:
        inline:
          host: test-minio
          port: 9000
          accessStyle: Path
          credentials:
            secretClass: minio-credentials
# We can use configOverrides to add arbitrary properties to the Trino catalog configuration
  configOverrides:
    hive.metastore.username: trino</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_unmanaged_hive_clusters"><a class="anchor" href="#_adding_unmanaged_hive_clusters"></a>Adding unmanaged Hive clusters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can add connect Trino to Hive catalogs from systems that are not managed by Stackable, including Hive running on existing Hadoop clusters. Unmanaged Hive instances can be defined by creating a configMap containing the configuration for the remote Hive Metastore and HDFS or S3 storage services.</p>
</div>
<div class="sect2">
<h3 id="_create_a_hive_metastore_configmap"><a class="anchor" href="#_create_a_hive_metastore_configmap"></a>Create a Hive Metastore configMap</h3>
<div class="paragraph">
<p>The Hive metastore configMap contains the URL for the metastore&#8217;s thrift endpoint.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: cloudera-hive
data:
  HIVE: thrift://10.132.0.59:9083</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_create_a_hdfs_configmap"><a class="anchor" href="#_create_a_hdfs_configmap"></a>Create a HDFS configMap</h3>
<div class="paragraph">
<p>When the Hive data is stored on HDFS you will need to provide a configMap containing the HDFS configuration. To do this take the <code>core-site.xml</code> and <code>hdfs-site.xml</code> from your Hadoop cluster and create a configMap with the keys <code>core-site.xml</code> and <code>hdfs-site.xml</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: cloudera-hdfs
data:
  core-site.xml: |-
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;configuration&gt;
      &lt;property&gt;
        &lt;name&gt;fs.defaultFS&lt;/name&gt;
        &lt;value&gt;hdfs://my.hadoop.cluster:8020&lt;/value&gt;
      &lt;/property&gt;
    &lt;!-- truncated for brevity --&gt;
    &lt;/configuration&gt;
  hdfs-site.xml: |-
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;configuration&gt;
      &lt;property&gt;
        &lt;name&gt;dfs.namenode.servicerpc-address&lt;/name&gt;
        &lt;value&gt;my.hadoop.cluster:8022&lt;/value&gt;
      &lt;/property&gt;
    &lt;!-- truncated for brevity --&gt;
    &lt;/configuration&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_create_the_trino_hive_catalog"><a class="anchor" href="#_create_the_trino_hive_catalog"></a>Create the Trino Hive catalog</h3>
<div class="paragraph">
<p>To use the unmanaged Hive metastore we define a <code>TrinoCatalog</code> object in the same way we would for a managed cluster, referencing the custom configMap we created for Hive and HDFS.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: trino.stackable.tech/v1alpha1
kind: TrinoCatalog
metadata:
  name: clouderahive
  labels:
    trino: simple-trino
spec:
  connector:
    hive:
      metastore:
        configMap: cloudera-hive
      hdfs:
        configMap: cloudera-hdfs</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
    </div>
</div>
<footer class="footer">
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
  </body>
</html>
